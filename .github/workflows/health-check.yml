name: Health Check

on:
  push:     # ğŸ‘‰ åˆå§‹é˜¶æ®µï¼Œæ‰‹åŠ¨è§¦å‘æµ‹è¯•
  # schedule:
  #   - cron: '0 12 * * *'   # âœ… åç»­æ”¹æˆæ¯å¤©ä¸­åˆ UTC æ‰§è¡Œ

jobs:
  health-check:
    runs-on: ubuntu-latest

    steps:
      - name: Check deployed app health
        uses: Jtalk/url-health-check-action@v4
        with:
          url: https://full-stack-open-pokedex-hidden-darkness-3799.fly.dev
          max-attempts: 3
          retry-delay: 5s
          follow-redirect: true
          expected-status: 200
